# ğŸ“± äº¤å‹æ‡‰ç”¨ç¨‹å¼ - é é¢å°èˆªæ¶æ§‹æ–‡æª”

## ğŸ¯ **æ¦‚è¿°**
æœ¬æ–‡æª”è©³ç´°è¨˜éŒ„äº¤å‹æ‡‰ç”¨ç¨‹å¼ä¸­æ‰€æœ‰é é¢é–“çš„é€£çµé—œä¿‚ã€URL çµæ§‹ã€èªè­‰é‚è¼¯å’Œå°èˆªè¦å‰‡ã€‚

## ğŸ—ºï¸ **é é¢æ¶æ§‹ç¸½è¦½**

```
äº¤å‹æ‡‰ç”¨ç¨‹å¼
â”œâ”€â”€ ğŸ” èªè­‰ç³»çµ±
â”‚   â”œâ”€â”€ / (index.tsx) - é¦–é /é‡å®šå‘é‚è¼¯
â”‚   â”œâ”€â”€ /login - ç™»å…¥é é¢
â”‚   â””â”€â”€ /register - è¨»å†Šé é¢
â”œâ”€â”€ ğŸ“± ä¸»æ‡‰ç”¨ (éœ€è¦èªè­‰)
â”‚   â””â”€â”€ /(tabs)/ - Tab å°èˆªå®¹å™¨
â”‚       â”œâ”€â”€ /discover - æ¢ç´¢/é…å°é é¢
â”‚       â”œâ”€â”€ /matches - é…å°åˆ—è¡¨é é¢
â”‚       â”œâ”€â”€ /messages - è¨Šæ¯åˆ—è¡¨é é¢
â”‚       â””â”€â”€ /profile - å€‹äººæª”æ¡ˆé é¢
â”œâ”€â”€ ğŸ’¬ èŠå¤©ç³»çµ± (éœ€è¦èªè­‰)
â”‚   â””â”€â”€ /chat/[id] - å€‹åˆ¥èŠå¤©å°è©±é é¢
â”œâ”€â”€ ğŸ‘¤ å€‹äººæª”æ¡ˆç®¡ç† (éœ€è¦èªè­‰)
â”‚   â””â”€â”€ /profile/edit - ç·¨è¼¯å€‹äººæª”æ¡ˆé é¢
â”œâ”€â”€ âš™ï¸ è¨­å®š (éœ€è¦èªè­‰)
â”‚   â””â”€â”€ /settings - æ‡‰ç”¨ç¨‹å¼è¨­å®šé é¢
â””â”€â”€ ğŸš« éŒ¯èª¤é é¢
    â””â”€â”€ /+not-found - 404 éŒ¯èª¤é é¢
```

## ğŸ”— **è©³ç´°å°èˆªé—œä¿‚åœ–**

### **1. èªè­‰æµç¨‹å°èˆª**

#### é¦–é é‡å®šå‘é‚è¼¯ (`/`)
```
URL: http://localhost:8083/

èªè­‰ç‹€æ…‹æª¢æŸ¥:
â”œâ”€â”€ æœªèªè­‰ç”¨æˆ¶ â†’ é‡å®šå‘åˆ° /login
â””â”€â”€ å·²èªè­‰ç”¨æˆ¶ â†’ é‡å®šå‘åˆ° /(tabs)/discover

è¼‰å…¥ç‹€æ…‹: é¡¯ç¤º "Checking authentication..." æˆ– "Redirecting..."
```

#### ç™»å…¥é é¢ (`/login`)
```
URL: http://localhost:8083/login

å¯ç”¨å‹•ä½œ:
â”œâ”€â”€ å¡«å¯«è¡¨å–® + "ç™»å…¥" æŒ‰éˆ• â†’ æˆåŠŸ: /(tabs)/discover, å¤±æ•—: åœç•™
â”œâ”€â”€ "è¨»å†Š" é€£çµ â†’ /register
â””â”€â”€ å·²èªè­‰ç”¨æˆ¶è¨ªå• â†’ ä¿æŒåœ¨ /login (ä¸å¼·åˆ¶é‡å®šå‘)

çµ„ä»¶: LoginScreen
TestID: login-form, login-button, register-link
```

#### è¨»å†Šé é¢ (`/register`)
```
URL: http://localhost:8083/register

å¯ç”¨å‹•ä½œ:
â”œâ”€â”€ å¡«å¯«è¡¨å–® + "è¨»å†Š" æŒ‰éˆ• â†’ æˆåŠŸ: /(tabs)/discover, å¤±æ•—: åœç•™
â”œâ”€â”€ "ç™»å…¥" é€£çµ â†’ /login
â””â”€â”€ å·²èªè­‰ç”¨æˆ¶è¨ªå• â†’ ä¿æŒåœ¨ /register (ä¸å¼·åˆ¶é‡å®šå‘)

çµ„ä»¶: RegisterScreen
TestID: register-form, register-button, login-link
```

### **2. ä¸»æ‡‰ç”¨ Tab å°èˆª**

#### Tab å®¹å™¨ (`/(tabs)/`)
```
å—ä¿è­·è·¯ç”±: éœ€è¦èªè­‰
Tab é †åº: æ¢ç´¢ â†’ é…å° â†’ è¨Šæ¯ â†’ æˆ‘çš„

å…±ç”¨æ¨£å¼: headerShown: false
çµ„ä»¶: TabsLayout
```

#### æ¢ç´¢é é¢ (`/(tabs)/discover`)
```
URL: http://localhost:8083/(tabs)/discover

åŠŸèƒ½:
â”œâ”€â”€ æ»‘å‹•å¡ç‰‡é€²è¡Œé…å°
â”œâ”€â”€ å–œæ­¡/è·³éæŒ‰éˆ•
â””â”€â”€ é…å°æˆåŠŸ â†’ å¯èƒ½è§¸ç™¼ /match/success é é¢

çµ„ä»¶: DiscoverScreen
Tab æ¨™é¡Œ: "æ¢ç´¢"
TestID: discover-container, swipe-cards, like-button, pass-button
```

#### é…å°åˆ—è¡¨é é¢ (`/(tabs)/matches`)
```
URL: http://localhost:8083/(tabs)/matches

åŠŸèƒ½:
â”œâ”€â”€ é¡¯ç¤ºæ‰€æœ‰é…å°åˆ—è¡¨
â”œâ”€â”€ é»æ“Šé…å°é …ç›® â†’ /chat/[id] (é–‹å§‹å°è©±)
â””â”€â”€ é…å°ç®¡ç†æ“ä½œ

çµ„ä»¶: MatchesScreen
Tab æ¨™é¡Œ: "é…å°"
TestID: matches-container, match-item-[id], match-list
```

#### è¨Šæ¯åˆ—è¡¨é é¢ (`/(tabs)/messages`)
```
URL: http://localhost:8083/(tabs)/messages

åŠŸèƒ½:
â”œâ”€â”€ é¡¯ç¤ºæ‰€æœ‰å°è©±åˆ—è¡¨ (SimpleChatListScreen)
â”œâ”€â”€ é»æ“Šå°è©±é …ç›® â†’ /chat/[id]
â”œâ”€â”€ "æ–°èŠå¤©" æŒ‰éˆ• â†’ /(tabs)/discover
â””â”€â”€ æœªè®€è¨Šæ¯è¨ˆæ•¸é¡¯ç¤º

çµ„ä»¶: SimpleChatListScreen
Tab æ¨™é¡Œ: "æ¶ˆæ¯"
TestID: chat-list-container, conversation-item-[id], new-chat-button
```

#### å€‹äººæª”æ¡ˆé é¢ (`/(tabs)/profile`)
```
URL: http://localhost:8083/(tabs)/profile

åŠŸèƒ½:
â”œâ”€â”€ "Edit Profile" â†’ /profile/edit
â”œâ”€â”€ "Settings" â†’ /settings
â”œâ”€â”€ "Notifications" â†’ (æœªå¯¦ä½œ)
â”œâ”€â”€ "Privacy & Safety" â†’ (æœªå¯¦ä½œ)
â”œâ”€â”€ "Help & Support" â†’ (æœªå¯¦ä½œ)
â””â”€â”€ "Logout" æŒ‰éˆ• â†’ /login

çµ„ä»¶: SimpleProfileScreen
Tab æ¨™é¡Œ: "æˆ‘çš„"
TestID: profile-container, edit-profile-option, preferences-option, logout-button
```

### **3. æ·±å±¤é é¢å°èˆª**

#### èŠå¤©å°è©±é é¢ (`/chat/[id]`)
```
URL: http://localhost:8083/chat/123

åƒæ•¸: id (å°è©± ID)
å—ä¿è­·è·¯ç”±: éœ€è¦èªè­‰

åŠŸèƒ½:
â”œâ”€â”€ è¿”å›æŒ‰éˆ• â†’ /(tabs)/messages
â”œâ”€â”€ éŠæˆ²æŒ‰éˆ• (ğŸ®) â†’ é–‹å•Ÿ GameModal
â”œâ”€â”€ é¸å–®æŒ‰éˆ• â†’ Alert é¸é … (é‡æ–°æ•´ç†/é–‹å§‹éŠæˆ²/é›¢é–‹å°è©±)
â”œâ”€â”€ è¨Šæ¯è¼¸å…¥å’Œç™¼é€
â””â”€â”€ å³æ™‚è¨Šæ¯æ¥æ”¶

çµ„ä»¶: ChatScreen
ç‰¹æ®ŠåŠŸèƒ½: æ•´åˆ GameModal (å‰ªåˆ€çŸ³é ­å¸ƒéŠæˆ²)
TestID: chat-screen, back-button, game-launch-button, menu-button, message-input
```

#### ç·¨è¼¯å€‹äººæª”æ¡ˆé é¢ (`/profile/edit`)
```
URL: http://localhost:8083/profile/edit

å—ä¿è­·è·¯ç”±: éœ€è¦èªè­‰
å‘ˆç¾æ–¹å¼: Modal (presentation: 'modal')

åŠŸèƒ½:
â”œâ”€â”€ ç·¨è¼¯å€‹äººè³‡æ–™è¡¨å–®
â”œâ”€â”€ ç…§ç‰‡ç®¡ç† (ä¸Šå‚³/åˆªé™¤/è¨­ç‚ºä¸»è¦)
â”œâ”€â”€ "å„²å­˜" â†’ è¿”å› /(tabs)/profile
â””â”€â”€ "å–æ¶ˆ" â†’ è¿”å› /(tabs)/profile

çµ„ä»¶: EditProfileScreen
TestID: edit-profile-form, save-button, cancel-button, photo-manager
```

#### è¨­å®šé é¢ (`/settings`)
```
URL: http://localhost:8083/settings

å—ä¿è­·è·¯ç”±: éœ€è¦èªè­‰
å‘ˆç¾æ–¹å¼: Modal (presentation: 'modal')

åŠŸèƒ½:
â”œâ”€â”€ æ‡‰ç”¨ç¨‹å¼è¨­å®šé¸é …
â”œâ”€â”€ æ¨æ’­é€šçŸ¥è¨­å®š
â”œâ”€â”€ éš±ç§è¨­å®š
â””â”€â”€ è¿”å› â†’ /(tabs)/profile

çµ„ä»¶: SettingsScreen
TestID: settings-container, notification-settings, privacy-settings
```

#### é…å°æˆåŠŸé é¢ (`/match/success`)
```
URL: http://localhost:8083/match/success

åŠŸèƒ½:
â”œâ”€â”€ æ…¶ç¥é…å°æˆåŠŸ
â”œâ”€â”€ "é–‹å§‹èŠå¤©" â†’ /chat/[id]
â””â”€â”€ "ç¹¼çºŒæ¢ç´¢" â†’ /(tabs)/discover

çµ„ä»¶: MatchSuccessScreen
TestID: match-success-container, start-chat-button, continue-discover-button
```

## ğŸ›¡ï¸ **èªè­‰èˆ‡å­˜å–æ§åˆ¶**

### **å—ä¿è­·è·¯ç”±åˆ—è¡¨**
```typescript
å—ä¿è­·è·¯ç”± (éœ€è¦èªè­‰):
- /(tabs)/*                 // æ‰€æœ‰ Tab é é¢
- /chat/*                   // æ‰€æœ‰èŠå¤©é é¢
- /profile/*                // å€‹äººæª”æ¡ˆç›¸é—œé é¢
- /settings                 // è¨­å®šé é¢
- /match/*                  // é…å°ç›¸é—œé é¢

å…¬é–‹è·¯ç”± (ä¸éœ€èªè­‰):
- /                         // é¦–é  (æœƒé‡å®šå‘)
- /login                    // ç™»å…¥é é¢
- /register                 // è¨»å†Šé é¢
- /+not-found              // 404 éŒ¯èª¤é é¢
```

### **ProtectedRoute çµ„ä»¶é‚è¼¯**
```typescript
æª¢æŸ¥é †åº:
1. isLoading || !isNavigationReady â†’ é¡¯ç¤ºè¼‰å…¥ç•«é¢
2. !isAuthenticated && isInProtectedRoute â†’ é‡å®šå‘åˆ° /login
3. !isAuthenticated && isInAuthRoute â†’ æ­£å¸¸æ¸²æŸ“
4. !isAuthenticated && other routes â†’ æ­£å¸¸æ¸²æŸ“
5. isAuthenticated â†’ æ­£å¸¸æ¸²æŸ“

é‡å®šå‘é‚è¼¯:
- ä½¿ç”¨ requestAnimationFrame ç¢ºä¿å¹³æ»‘é‡å®šå‘
- éŒ¯èª¤è™•ç†: router.replace å¤±æ•—æ™‚ä½¿ç”¨ window.location.href
```

## ğŸ”„ **é‡å®šå‘è¦å‰‡ç¸½è¡¨**

| ç•¶å‰é é¢ | èªè­‰ç‹€æ…‹ | é‡å®šå‘ç›®æ¨™ | è§¸ç™¼æ¢ä»¶ |
|---------|---------|-----------|---------|
| `/` | æœªèªè­‰ | `/login` | è‡ªå‹• |
| `/` | å·²èªè­‰ | `/(tabs)/discover` | è‡ªå‹• |
| `/(tabs)/*` | æœªèªè­‰ | `/login` | å­˜å–å—ä¿è­·è·¯ç”± |
| `/chat/*` | æœªèªè­‰ | `/login` | å­˜å–å—ä¿è­·è·¯ç”± |
| `/profile/*` | æœªèªè­‰ | `/login` | å­˜å–å—ä¿è­·è·¯ç”± |
| `/settings` | æœªèªè­‰ | `/login` | å­˜å–å—ä¿è­·è·¯ç”± |
| `/login` | ç™»å…¥æˆåŠŸ | `/(tabs)/discover` | ç™»å…¥å®Œæˆ |
| `/register` | è¨»å†ŠæˆåŠŸ | `/(tabs)/discover` | è¨»å†Šå®Œæˆ |
| ä»»ä½•é é¢ | ç™»å‡º | `/login` | ç™»å‡ºå‹•ä½œ |

## ğŸ® **ç‰¹æ®ŠåŠŸèƒ½: éŠæˆ²æ¨¡æ…‹è¦–çª—**

### **GameModal å°èˆªé‚è¼¯**
```typescript
è§¸ç™¼ä½ç½®: /chat/[id] é é¢
è§¸ç™¼æ–¹å¼:
1. æ¨™é¡Œåˆ—éŠæˆ²æŒ‰éˆ• (ğŸ®)
2. é¸å–®ä¸­çš„ "é–‹å§‹éŠæˆ²" é¸é …

æ¨¡æ…‹è¦–çª—ç‹€æ…‹:
â”œâ”€â”€ é‚€è«‹éšæ®µ â†’ GameInvite çµ„ä»¶
â”œâ”€â”€ éŠæˆ²é€²è¡Œä¸­ â†’ é¸æ“‡ç•Œé¢ + è¨ˆæ™‚å™¨
â”œâ”€â”€ éŠæˆ²çµæŸ â†’ GameResult çµ„ä»¶
â””â”€â”€ é—œé–‰æ¨¡æ…‹è¦–çª— â†’ è¿”å›èŠå¤©é é¢

ç‰¹æ®Šè¡Œç‚º:
- éŠæˆ²é€²è¡Œä¸­é—œé–‰ â†’ ç¢ºèªæŠ•é™å°è©±æ¡†
- è‡ªå‹•æŠ•é™ â†’ éŠæˆ²çµæŸä¸¦é—œé–‰æ¨¡æ…‹è¦–çª—
```

## ğŸ“± **URL çµæ§‹è¦ç¯„**

```
åŸºç¤ URL: http://localhost:8083

å®Œæ•´ URL åˆ—è¡¨:
â”œâ”€â”€ http://localhost:8083/                     // é¦–é 
â”œâ”€â”€ http://localhost:8083/login                // ç™»å…¥
â”œâ”€â”€ http://localhost:8083/register             // è¨»å†Š
â”œâ”€â”€ http://localhost:8083/(tabs)/discover      // æ¢ç´¢
â”œâ”€â”€ http://localhost:8083/(tabs)/matches       // é…å°åˆ—è¡¨
â”œâ”€â”€ http://localhost:8083/(tabs)/messages      // è¨Šæ¯åˆ—è¡¨
â”œâ”€â”€ http://localhost:8083/(tabs)/profile       // å€‹äººæª”æ¡ˆ
â”œâ”€â”€ http://localhost:8083/chat/123             // èŠå¤© (å‹•æ…‹ ID)
â”œâ”€â”€ http://localhost:8083/profile/edit         // ç·¨è¼¯æª”æ¡ˆ
â”œâ”€â”€ http://localhost:8083/settings             // è¨­å®š
â”œâ”€â”€ http://localhost:8083/match/success        // é…å°æˆåŠŸ
â””â”€â”€ http://localhost:8083/+not-found          // 404 éŒ¯èª¤

å‹•æ…‹è·¯ç”±:
- /chat/[id] â†’ id ç‚ºæ•¸å­— (å°è©± ID)
```

## ğŸ§ª **æ¸¬è©¦è€ƒé‡é‡é»**

### **å¿…é ˆæ¸¬è©¦çš„å°èˆªè·¯å¾‘**
1. **èªè­‰æµç¨‹**: ç™»å…¥ â†’ ä¸»é é¢, è¨»å†Š â†’ ä¸»é é¢, ç™»å‡º â†’ ç™»å…¥é 
2. **Tab åˆ‡æ›**: æ‰€æœ‰ 4 å€‹ Tab é–“çš„ç›¸äº’åˆ‡æ›
3. **æ·±å±¤å°èˆª**: è¨Šæ¯åˆ—è¡¨ â†’ èŠå¤©é é¢ â†’ è¿”å›
4. **æ¨¡æ…‹è¦–çª—**: è¨­å®š/ç·¨è¼¯æª”æ¡ˆçš„é–‹å•Ÿèˆ‡é—œé–‰
5. **éŠæˆ²åŠŸèƒ½**: èŠå¤©ä¸­é–‹å•ŸéŠæˆ²æ¨¡æ…‹è¦–çª—
6. **å—ä¿è­·è·¯ç”±**: æœªèªè­‰ç‹€æ…‹ä¸‹çš„é‡å®šå‘
7. **éŒ¯èª¤è™•ç†**: ç„¡æ•ˆ URL çš„ 404 è™•ç†

### **æ¸¬è©¦ç”¨ TestID æ¨™æº–**
```typescript
é é¢å®¹å™¨: [page-name]-container
ä¸»è¦æŒ‰éˆ•: [action]-button
å°èˆªå…ƒç´ : [navigation-type]-[target]
åˆ—è¡¨é …ç›®: [item-type]-item-[id]
è¡¨å–®å…ƒç´ : [form-name]-[field-name]
```

## ğŸ“ˆ **æ•ˆèƒ½è€ƒé‡**

### **è·¯ç”±æ‡¶åŠ è¼‰**
- ç›®å‰æ‰€æœ‰è·¯ç”±éƒ½æ˜¯ç›´æ¥å°å…¥
- æœªä¾†å¯è€ƒæ…®å°å¤§å‹é é¢å¯¦ä½œæ‡¶åŠ è¼‰

### **ç‹€æ…‹ä¿æŒ**
- Tab é–“åˆ‡æ›ä¿æŒç‹€æ…‹
- èŠå¤©é é¢ä¿æŒè¨Šæ¯æ­·å²
- å€‹äººæª”æ¡ˆç·¨è¼¯ä¿æŒè‰ç¨¿

### **å¿«å–ç­–ç•¥**
- èªè­‰ç‹€æ…‹æŒä¹…åŒ–
- èŠå¤©åˆ—è¡¨å¿«å–
- ç”¨æˆ¶æª”æ¡ˆå¿«å–

---

**æ–‡æª”ç‰ˆæœ¬**: v1.0.0
**æœ€å¾Œæ›´æ–°**: 2025-09-17
**ç¶­è­·è€…**: Claude Code Assistant
**ç‹€æ…‹**: âœ… å·²å®Œæˆä¸¦æ¸¬è©¦é©—è­‰